"use strict";var currPage=1,flag=!0,list2=[];function getList(){$.ajax({url:"../lib/list.json",dataType:"json",success:function(i){$(".pagi").pagination({pageCount:Math.ceil(i.length/12),current:1,jump:!0,coping:!0,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(t){var n=t.getCurrent();bindHtml(i.slice(12*(n-1),12*n))}}),bindHtml(i.slice(0,12)),list2=i}})}function bindHtml(t){var n="";t.forEach(function(t){n+='\n        <li data-id="'.concat(t.id,'">\n            <a href="javascript:0">\n                <div class="pic">\n                    <img src="').concat(t.img,'" alt="">\n                </div>\n                <div class="text">\n                    <h3>').concat(t.name,"</h3>\n                    <p>¥").concat(t.age,"</p>\n                </div>\n            </a>\n        </li>\n        ")}),$(".zx-container ul").html(n)}getList(),$(".zx-container ul").on("click","li",function(){for(var t=$(this).data("id"),n={},i=0;i<list2.length;i++)if(list2[i].id==t){n=list2[i];break}localStorage.setItem("goodsInfo",JSON.stringify(n)),window.location.href="./detail.html"});var btn=document.querySelector(".sort");btn.onclick=function(){flag=!flag,list2.sort(function(t,n){return!0===flag?t.id-n.id:n.id-t.id}),$(".pagi").pagination({pageCount:Math.ceil(list2.length/12),current:1,jump:!0,coping:!0,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(t){var n=t.getCurrent();bindHtml(list2.slice(12*(n-1),12*n))}}),bindHtml(list2.slice(0,12))};