"use strict";var cartList=JSON.parse(localStorage.getItem("cartList"));function bindHtml(){var t=cartList.every(function(t){return!0===t.isSelect}),n='\n    <div class="top">\n      <input class="selectAll" type="checkbox" '.concat(t?"checked":"",'>   全选\n      <span>商品名称</span>\n      <span class="zx-dj">单价</span>\n      <span class="zx-sl">数量</span>\n      <span class="zx-xj">小计</span>\n      <span class="zx-cz">操作</span>\n    </div>\n    <ul class="center">\n  ');cartList.forEach(function(t){n+='\n      <li>\n        <div class="select">\n          <input data-id='.concat(t.id,' class="selectOne" type="checkbox" ').concat(t.isSelect?"checked":"",'>\n        </div>\n        <div class="info">\n          <img src="').concat(t.img,'" alt="">\n          <p>').concat(t.name,'</p>\n        </div>\n        <p class="price">￥').concat(t.age,'</p>\n        <div class="number">\n          <button class="sub" data-id=').concat(t.id,'>-</button>\n          <input type="text" value="').concat(t.number,'">\n          <button class="add" data-id=').concat(t.id,'>+</button>\n        </div>\n        <p class="xiaoji">￥： ').concat(t.xiaoji,'</p>\n        <div class="del" data-id=').concat(t.id,">删除</div>\n      </li>\n    ")});var c=cartList.filter(function(t){return t.isSelect}),a=0,i=0;c.forEach(function(t){a+=t.number,i+=t.xiaoji}),n+='\n    </ul>\n    <div class="bottom">\n      <p>选中商品数量：<span>'.concat(a,"</span></p>\n      <p>总 价：<span>￥：").concat(i,'</span></p>\n      <div>\n        <button class="pay" ').concat(c.length?"":"disabled",'>去支付</button>\n        <button class="clear">清空购物车</button>  \n      </div>\n    </div>\n  '),$(".cart .content").html(n)}function bindEvent(){$(".cart .content").on("change",".selectAll",function(){var n=this;cartList.forEach(function(t){t.isSelect=n.checked}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart .content").on("change",".selectOne",function(){var n=$(this).data("id");cartList.forEach(function(t){t.id===n&&(t.isSelect=!t.isSelect)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart .content").on("click",".sub",function(){var n=$(this).data("id");cartList.forEach(function(t){t.id===n&&(1<t.number&&t.number--,t.xiaoji=t.age*t.number)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart .content").on("click",".add",function(){var n=$(this).data("id");cartList.forEach(function(t){t.id===n&&(t.number++,t.xiaoji=t.number*t.age)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart .content").on("click",".del",function(){alert("确定要删除吗？"),$(this).parent().remove()}),$(".cart .content").on("click",".clear",function(){alert("确定清空购物车吗？"),$(".cart .content ul").remove(),localStorage.removeItem("cartList")})}cartList?(bindHtml(),bindEvent()):(alert("您的购物车为空, 快去选购把"),window.location.href="./list.html");